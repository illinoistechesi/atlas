!function e(t,a,o){function r(l,i){if(!a[l]){if(!t[l]){var c="function"==typeof require&&require;if(!i&&c)return c(l,!0);if(n)return n(l,!0);var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m}var s=a[l]={exports:{}};t[l][0].call(s.exports,function(e){var a=t[l][1][e];return r(a||e)},s,s.exports,e,t,a,o)}return a[l].exports}for(var n="function"==typeof require&&require,l=0;l<o.length;l++)r(o[l]);return r}({1:[function(e,t,a){"use strict";var o=Atlas();o.init().then(function(e){var t={zoom:15,center:new google.maps.LatLng(41.259716,-95.960588),styles:o.removeThemeLabels(MAP_STYLES)},a=document.getElementById("map"),r=new google.maps.Map(a,t);window.mapRef=r,o.setMap(r);var n=localStorage.getItem("map-theme-tag"),l=localStorage.getItem("map-theme-style");if(n&&l){var i=JSON.parse(l);o.changeMapStyle(r,n,i)}google.maps.event.addListener(r,"click",function(e){if(o.isShiftClick()){var t=e.latLng;o.addDefaultMarker({map:r,coord:{lat:t.lat(),lng:t.lng()}})}}),vex.dialog.prompt({message:"Enter a key to create or load a map:",callback:function(e){if(e){var t=o.loadMarkers(e);t?(t.forEach(function(e){e.map=r,o.addDefaultMarker({map:r,coord:e,name:e.name});var t=o.markers[0];t&&r.setCenter({lat:t.data.lat,lng:t.data.lng})}),vex.dialog.alert("Loaded existing map: "+e)):vex.dialog.alert("Created new map: "+e),window.MAP_TAG=e}}});var c=function(e){vex.dialog.prompt({message:"Import your coordinates:",callback:function(t){localStorage.setItem(e,t)}})},m=document.getElementById("shortcuts-list");document.getElementById("shortcuts").addEventListener("click",function(e){var t=document.createElement("div");t.innerHTML=m.innerHTML,vex.dialog.alert({unsafeMessage:t.outerHTML})}),o.setHotKey("i",function(e){vex.dialog.prompt({message:"Enter a key for this map:",callback:function(e){localStorage.getItem(e)?vex.dialog.confirm({message:"This will overwrite an existing map, are you sure?",callback:function(t){t&&c(e)}}):c(e)}})}),o.setHotKey("e",function(e){vex.dialog.prompt({message:"Exported coordinates:",value:o.markersToString(o.markers),callback:function(e){}})}),o.setHotKey("t",function(e){vex.dialog.prompt({message:"Enter map theme URL:",callback:function(e){o.getMapStyleByURL(e).then(function(e){localStorage.setItem("map-theme-tag",e.name),localStorage.setItem("map-theme-style",e.json);var t=e.name,a=JSON.parse(e.json);o.changeMapStyle(r,t,a),vex.dialog.alert("Changed map theme to: "+t)}).catch(function(e){vex.dialog.alert("Error: "+e)})}})})})},{}]},{},[1]);
//# sourceMappingURL=maps/create.js.map
